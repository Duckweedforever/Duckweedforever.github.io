(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{610:function(s,n,a){"use strict";a.r(n);var e=a(5),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一、使用vite快速创建脚手架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、使用vite快速创建脚手架"}},[s._v("#")]),s._v(" 一、使用vite快速创建脚手架")]),s._v(" "),a("h3",{attrs:{id:"_1-使用yarn运行安装命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用yarn运行安装命令"}},[s._v("#")]),s._v(" 1.使用yarn运行安装命令")]),s._v(" "),a("blockquote",[a("p",[s._v("#yarn命令安装")]),s._v(" "),a("blockquote",[a("p",[s._v("yarn create @vitejs/app vue3_ts_vite_pinia")])])]),s._v(" "),a("h3",{attrs:{id:"_2-选择vue-vue-ts-完成安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-选择vue-vue-ts-完成安装"}},[s._v("#")]),s._v(" 2.选择vue vue-ts 完成安装")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b47672815a42421c864d333cb029afa8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?",alt:""}}),s._v(" "),a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59ba2ac7f3754688b70763844b324533~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_3-进入vue3-ts-vite-pinia项目-使用yarn命令安装依赖-依赖安装完成后-使用yarn-dev启动项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-进入vue3-ts-vite-pinia项目-使用yarn命令安装依赖-依赖安装完成后-使用yarn-dev启动项目"}},[s._v("#")]),s._v(" 3.进入vue3_ts_vite_pinia项目，使用yarn命令安装依赖,依赖安装完成后，使用yarn dev启动项目")]),s._v(" "),a("blockquote",[a("p",[s._v("#安装依赖 yarn\n#启动项目 yarn dev\n"),a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/abe4d72a403a47399ed47e22f25917e4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?",alt:""}})])]),s._v(" "),a("h2",{attrs:{id:"二、路由配置-vue-router-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、路由配置-vue-router-4"}},[s._v("#")]),s._v(" 二、路由配置（vue-router@4）")]),s._v(" "),a("h3",{attrs:{id:"_1-使用yarn安装vue-router-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用yarn安装vue-router-4"}},[s._v("#")]),s._v(" 1.使用yarn安装vue-router@4")]),s._v(" "),a("blockquote",[a("p",[s._v("#yarn命令安装")]),s._v(" "),a("blockquote",[a("p",[s._v("yarn add vue-router@4")])])]),s._v(" "),a("h3",{attrs:{id:"_2-src文件夹下新建router文件夹-router文件夹下新建index-ts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-src文件夹下新建router文件夹-router文件夹下新建index-ts"}},[s._v("#")]),s._v(" 2.src文件夹下新建router文件夹,router文件夹下新建index.ts")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\n\nconst routes: RouteRecordRaw[] = [\n    {\n        path: '/',\n        name: 'Index',\n        component: () => import('@/pages/index/Index.vue'),\n    }\n]\nconst router = createRouter({\n    history: createWebHistory(),\n    routes,\n})\n\nexport default router\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"_3-在main-ts中-引入router并注册"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-在main-ts中-引入router并注册"}},[s._v("#")]),s._v(" 3.在main.ts中，引入router并注册")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router/index'\nconst app = createApp(App)\napp.use(router)\napp.mount('#app')\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"_4-在app-vue中设置路由展现出口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-在app-vue中设置路由展现出口"}},[s._v("#")]),s._v(" 4.在App.vue中设置路由展现出口 "),a("router-view")],1),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n    // <img alt="Vue logo" src="./assets/logo.png" />\n    // <HelloWorld msg="Hello Vue 3 + TypeScript + Vite" />\n    <router-view></router-view>\n</template>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"路由守卫"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由守卫"}},[s._v("#")]),s._v(" 路由守卫")]),s._v(" "),a("h3",{attrs:{id:"_1-路由守卫-告别next-在router-index-ts中添加路由守卫"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-路由守卫-告别next-在router-index-ts中添加路由守卫"}},[s._v("#")]),s._v(" 1.路由守卫，告别next，在router/index.ts中添加路由守卫")]),s._v(" "),a("blockquote",[a("p",[s._v("(1)全局路由守卫")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\n\nconst routes: RouteRecordRaw[] = [\n    {\n        path: '/',\n        name: 'Index',\n        component: () => import('@/pages/index/Index.vue'),\n    }\n]\nconst router = createRouter({\n    history: createWebHistory(),\n    routes,\n})\nrouter.beforeEach((to,from)=>{\n        if(pass){\n        console.log('pass')\n          // 不再使用next()放行\n        }else{\n            return false \n        }\n})\nexport default router\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("blockquote",[a("p",[s._v("（2）组件内路由守卫")]),s._v(" "),a("blockquote",[a("p",[s._v("新增组合式api可以替代原有的组件内守卫，onBeforeRouteLeave(离开当前页面路由时触发)、onBeforeRouteUpdate(路由更新时触发)")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("onBeforeRouteLeave((to,form)=>{\n          \n})\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"页面使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面使用"}},[s._v("#")]),s._v(" 页面使用")]),s._v(" "),a("h3",{attrs:{id:"_1-页面内基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-页面内基本使用"}},[s._v("#")]),s._v(" 1.页面内基本使用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { useRouter,useRoute } from 'vue-router';\n const go=()=>{\n     const Router=useRouter()\n     const Route=useRoute()\n     Router.push({\n         name:'/login',\n         query:{\n             id:'123456'\n         }\n     })\n }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"三、状态管理-pinia配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、状态管理-pinia配置"}},[s._v("#")]),s._v(" 三、状态管理（Pinia配置）")]),s._v(" "),a("p",[s._v("Pinia 是 Vue.js 的轻量级状态管理库,也是Vue核心团队推荐的状态管理库，由于Pinia也是Vuex研发团队的产品，以及尤大大的加持，极大可能会替代Vuex，即使pinia的推广不太顺利也并不用过多担心，其许多使用方式很有可能会移植到Vuex5中。相较于Vuex,Pinia上手更简单，mutations，并且actions支持同步或异步。")]),s._v(" "),a("h3",{attrs:{id:"基本配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本配置"}},[s._v("#")]),s._v(" 基本配置")]),s._v(" "),a("blockquote",[a("p",[s._v("1.使用yarn安装 pinia@next")]),s._v(" "),a("blockquote",[a("p",[s._v("#yarn命令安装\nyarn add pinia@next\n2.src文件夹下新建store文件夹,store文件夹下新建main.ts")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { defineStore } from 'pinia'\nexport const useUserStore = defineStore({\n    id: 'user',\n    state: () => ({\n        name: '用户名'\n    }),\n    getters: {\n        nameLength: (state) => state.name.length,\n    },\n    actions: {\n        updataUser(data: any) {\n            console.log(data)\n        }\n    }\n})\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("blockquote",[a("p",[s._v("3.在main.ts中，引入createPinia")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router/index'\nimport { createPinia } from 'pinia'\nconst app = createApp(App)\napp.use(createPinia())\napp.use(router)\napp.mount('#app')\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"_1-获取state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-获取state"}},[s._v("#")]),s._v(" 1.获取state")]),s._v(" "),a("ul",[a("li",[s._v("直接获取")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n    <div>{{userStore.name}}</div>\n</template>\n<script setup lang="ts">\nimport { useUserStore } from "@/store/user.ts"\nconst userStore = useUserStore()\n\n<\/script>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("computed获取")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n    <div>{{name}}</div>\n</template>\n<script setup lang="ts">\nimport { useUserStore } from "@/store/user.ts"\nconst userStore = useUserStore()\nconst name=computed(()=>{\n    userStore.name\n})\n<\/script>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[s._v("结构获取，但会失去响应式，需要使用storeToRefs")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n    <div>{{name}}</div>\n</template>\n<script setup lang="ts">\nimport { useUserStore } from "@/store/user.ts"\nimport {storeToRefs} from \'pinia\'\nconst userStore = useUserStore()\nconst name=storeToRefs(userStore)\n<\/script>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"_2-设置state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置state"}},[s._v("#")]),s._v(" 2.设置state")]),s._v(" "),a("ul",[a("li",[s._v("直接修改")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n    <div>{{userStore.name}}</div>\n    <div @click="updateName">修改名字</div>\n</template>\n<script setup lang="ts">\nimport { useUserStore } from "@/store/user.ts"\nconst userStore = useUserStore()\nconst updateName = () => {\n    userStore.name = \'直接修改后名字\'\n}\n<\/script>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ul",[a("li",[s._v("$patch 修改 store 中的数据")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n    <div>{{userStore.name}}</div>\n    <div @click="updateName">修改名字</div>\n</template>\n<script setup lang="ts">\nimport { useUserStore } from "@/store/user.ts"\nconst userStore = useUserStore()\nconst updateName = () => {\n    userStore.$patch({\n       name: \'$patch修改后名字\'\n   })\n}\n<\/script>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[s._v("actions 修改 store 中的数据")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n    <div>{{userStore.name}}</div>\n    <div @click="updateName">修改名字</div>\n</template>\n<script setup lang="ts">\nimport { useUserStore } from "@/store/user.ts"\nconst userStore = useUserStore()\nconst updateName = () => {\n    userStore.updataUser(\'actions修改后名字\')\n}\n<\/script>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h4",{attrs:{id:"actions中使用this修改state数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#actions中使用this修改state数据"}},[s._v("#")]),s._v(" actions中使用this修改state数据")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { defineStore } from 'pinia'\n\nexport const useUserStore = defineStore({\n    id: 'user',\n    state: () => ({\n        name: '用户名'\n    }),\n    getters: {\n        nameLength: (state) => state.name.length,\n    },\n    actions: {\n        updataUser(newName: string) {\n           this.name=newName\n        }\n    }\n})\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"_3-getters使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-getters使用"}},[s._v("#")]),s._v(" 3.Getters使用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { defineStore } from 'pinia'\n\nexport const useUserStore = defineStore({\n    id: 'user',\n    state: () => ({\n        name: '用户名'\n    }),\n    getters: {\n        nameLength: (state) => state.name.length,\n    },\n})\n\n<template>\n    <div>{{userStore.nameLength}}</div>\n</template>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"_4-actions使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-actions使用"}},[s._v("#")]),s._v(" 4.Actions使用")]),s._v(" "),a("ul",[a("li",[s._v("同步actions使用")])]),s._v(" "),a("blockquote",[a("p",[s._v("如设置state中使用方式相同，可以直接使用this设置state中数据")])]),s._v(" "),a("ul",[a("li",[s._v("异步actions使用")])]),s._v(" "),a("blockquote",[a("p",[s._v("支持async await ,支持同一个store中action之间可以用this调用，不同store中action之间可以用hooks引入方式调用")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { defineStore } from 'pinia'\nimport {userOtherStore} from './otherStore'\nexport const useUserStore = defineStore({\n    id: 'user',\n    state: () => ({\n        name: '用户名'\n    }),\n    actions: {\n        async login(params){\n            const {data}=await api.login(params)\n            this.updataUser(data) //同一个store中action之间可以用this调用\n        },\n        updataUser(newName: string) {\n           this.name=newName\n           const otherStore=userOtherStore() //不同store中action之间可以用hooks引入方式调用\n           otherStore.setName(newName)\n        }\n    }\n})\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h2",{attrs:{id:"四、统一请求封装-axios封装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、统一请求封装-axios封装"}},[s._v("#")]),s._v(" 四、统一请求封装（Axios封装）")]),s._v(" "),a("h3",{attrs:{id:"_1-使用yarn安装-axios"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用yarn安装-axios"}},[s._v("#")]),s._v(" 1.使用"),a("code",[s._v("yarn")]),s._v("安装 axios")]),s._v(" "),a("blockquote",[a("p",[s._v("#yarn命令安装\nyarn add axios")])]),s._v(" "),a("h3",{attrs:{id:"_2-src文件夹下新建service文件夹-service文件夹下新建http-ts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-src文件夹下新建service文件夹-service文件夹下新建http-ts"}},[s._v("#")]),s._v(" 2.src文件夹下新建service文件夹,service文件夹下新建http.ts")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import axios, { AxiosRequestConfig } from 'axios'\n// 设置请求头和请求路径\naxios.defaults.baseURL = '/api';\n// 现在，所有使用此实例的请求都将等待2.5秒，然后才会超时\naxios.defaults.timeout = 2500;\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=UTF-8';\n\n\n// 添加请求拦截器\naxios.interceptors.request.use(function (config): AxiosRequestConfig<any> {\n    // 在发送请求之前做些什么\n    config.headers.token = 'your token'\n    return config;\n}, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n});\n\n// 添加响应拦截器\naxios.interceptors.response.use(function (response) {\n    // 2xx 范围内的状态码都会触发该函数。\n    // 对响应数据做点什么\n    return response;\n}, function (error) {\n    // 超出 2xx 范围的状态码都会触发该函数。\n    // 对响应错误做点什么\n    return Promise.reject(error);\n});\ninterface ResType<T> {\n    code: number\n    data?: T\n    msg: string\n    err?: string\n}\ninterface Http {\n    get<T>(url: string, params?: unknown): Promise<ResType<T>>\n    post<T>(url: string, params?: unknown): Promise<ResType<T>>\n    upload<T>(url: string, params: unknown): Promise<ResType<T>>\n    download(url: string): void\n}\nconst http: Http = {\n    get(url, params) {\n        return new Promise((resolve, reject) => {\n            axios\n                .get(url, { params })\n                .then((res) => {\n                    resolve(res.data)\n                })\n                .catch((err) => {\n                    reject(err.data)\n                })\n        })\n    },\n    post(url, params) {\n        return new Promise((resolve, reject) => {\n            axios\n                .post(url, JSON.stringify(params))\n                .then((res) => {\n                    resolve(res.data)\n                })\n                .catch((err) => {\n                    reject(err.data)\n                })\n        })\n    },\n    upload(url, file) {\n        return new Promise((resolve, reject) => {\n            axios\n                .post(url, file, {\n                    headers: { 'Content-Type': 'multipart/form-data' },\n                })\n                .then((res) => {\n                    resolve(res.data)\n                })\n                .catch((err) => {\n                    reject(err.data)\n                })\n        })\n    },\n    download(url) {\n        const iframe = document.createElement('iframe')\n        iframe.style.display = 'none'\n        iframe.src = url\n        iframe.onload = function () {\n            document.body.removeChild(iframe)\n        }\n        document.body.appendChild(iframe)\n    },\n}\nexport default http\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br")])]),a("h3",{attrs:{id:"_3-service文件夹下新建api文件夹-做请求统一管理-api下新建login-login下新建login-ts、type-ts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-service文件夹下新建api文件夹-做请求统一管理-api下新建login-login下新建login-ts、type-ts"}},[s._v("#")]),s._v(" 3.service文件夹下新建api文件夹，做请求统一管理，api下新建login,login下新建login.ts、type.ts")]),s._v(" "),a("ul",[a("li",[s._v("目录结构\n"),a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c28ca8d7f134e47b79d970e8503f98c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?",alt:""}})]),s._v(" "),a("li",[s._v("login.ts")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import http from '@/service/http'\nimport { ILoginApi } from './type'\nconst loginApi: ILoginApi = {\n    login(params) {\n        return http.post('/login', params)\n    }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("type.ts")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("export interface DataType {\n    name: string\n}\nexport interface ResType<T> {\n    code: number\n    data?: T\n    msg: string\n    err?: string\n}\nexport interface ILoginApiParams {\n    id: number\n}\nexport interface ILoginApi {\n    login: (params: ILoginApiParams) => Promise<ResType<DataType>>\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h2",{attrs:{id:"五、ui组件库-naive-ui、ant-design-vue、element-plus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、ui组件库-naive-ui、ant-design-vue、element-plus"}},[s._v("#")]),s._v(" 五、UI组件库（Naive UI、Ant Design Vue、Element Plus）")]),s._v(" "),a("blockquote",[a("p",[s._v("UI组件库目前选择比较多，Naive UI是尤大大推荐的组件库，内容样式比较美观新颖，但毕竟是新组件库，Ant Design Vue是Ant Design 的 Vue 实现，用户人数较多，比较成熟，像一些目前比较厉害的开源后台vben-admin等都是使用Ant Design Vue，至于Element Plus也是刚刚开发完成，因此还是选择Ant Design Vue较为靠谱。")])]),s._v(" "),a("h3",{attrs:{id:"基本配置-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本配置-2"}},[s._v("#")]),s._v(" 基本配置")]),s._v(" "),a("h4",{attrs:{id:"_1-使用yarn安装-ant-design-vue-next"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用yarn安装-ant-design-vue-next"}},[s._v("#")]),s._v(" 1.使用yarn安装 ant-design-vue@next")]),s._v(" "),a("h4",{attrs:{id:"_2-main-ts中全局注册"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-main-ts中全局注册"}},[s._v("#")]),s._v(" 2.main.ts中全局注册")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router/index'\nimport { createPinia } from 'pinia'\nimport Antd from 'ant-design-vue';\nimport 'ant-design-vue/dist/antd.css';\n\nconst app = createApp(App)\napp.use(createPinia())\napp.use(router)\napp.use(Antd);\napp.mount('#app')\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"_3-组件内使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-组件内使用"}},[s._v("#")]),s._v(" 3.组件内使用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template>\n    <div :style="{ background: \'rgb(190, 200, 200)\', padding: \'26px 16px 16px\' }">\n        <a-button type="primary" ghost>Primary</a-button>\n        <a-button ghost>Default</a-button>\n        <a-button type="dashed" ghost>Dashed</a-button>\n        <a-button danger ghost>Danger</a-button>\n        <a-button type="link" ghost>Link</a-button>\n    </div>\n    \x3c!-- <img alt="Vue logo" src="./assets/logo.png" />\n    <HelloWorld msg="Hello Vue 3 + TypeScript + Vite" />--\x3e\n</template>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"六、环境变量配置及vite基本配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、环境变量配置及vite基本配置"}},[s._v("#")]),s._v(" 六、环境变量配置及vite基本配置")]),s._v(" "),a("h3",{attrs:{id:"环境变量配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量配置"}},[s._v("#")]),s._v(" 环境变量配置")]),s._v(" "),a("h3",{attrs:{id:"_1-最外层文件位置新建-env-development及-env-production文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-最外层文件位置新建-env-development及-env-production文件"}},[s._v("#")]),s._v(" 1.最外层文件位置新建.env.development及.env.production文件")]),s._v(" "),a("blockquote",[a("p",[s._v(".env.development")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("NODE_ENV=development\n\nVITE_APP_WEB_URL= 'YOUR WEB URL'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v(".env.production")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("NODE_ENV=production\n\nVITE_APP_WEB_URL= 'YOUR WEB URL'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_2-组件内使用环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-组件内使用环境"}},[s._v("#")]),s._v(" 2.组件内使用环境")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("console.log(import.meta.env.VITE_APP_WEB_URL)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"vite环境配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vite环境配置"}},[s._v("#")]),s._v(" Vite环境配置")]),s._v(" "),a("h4",{attrs:{id:"_1-配置类型别名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置类型别名"}},[s._v("#")]),s._v(" 1.配置类型别名")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\nimport path from 'path'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n    plugins: [vue()],\n    resolve: {\n        alias: {\n            '@': path.resolve(__dirname, 'src'),\n        },\n    },\n    \n})\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h4",{attrs:{id:"_2-引入如scss等的全局样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-引入如scss等的全局样式"}},[s._v("#")]),s._v(" 2.引入如scss等的全局样式")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("export default defineConfig({\n    plugins: [vue()],\n    css: {\n        preprocessorOptions: {\n            scss: {\n                additionalData: '@import \"@/assets/style/main.scss\";'\n            }\n        }\n    },\n})\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h4",{attrs:{id:"_3-代理配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-代理配置"}},[s._v("#")]),s._v(" 3.代理配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server: {\n      port: VITE_PORT,\n      // Load proxy configuration from .env\n      proxy: {},\n    },\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"_4-在预构建中强制排除的依赖项。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-在预构建中强制排除的依赖项。"}},[s._v("#")]),s._v(" 4.在预构建中强制排除的依赖项。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("optimizeDeps: {\n      // @iconify/iconify: The dependency is dynamically and virtually loaded by @purge-icons/generated, so it needs to be specified explicitly\n      include: [\n        '@iconify/iconify',\n        'ant-design-vue/es/locale/zh_CN',\n        'moment/dist/locale/zh-cn',\n        'ant-design-vue/es/locale/en_US',\n        'moment/dist/locale/eu',\n      ],\n      exclude: ['vue-demi'],\n    },\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h4",{attrs:{id:"_5-build打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-build打包"}},[s._v("#")]),s._v(" 5.build打包")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("build: {\n      target: 'es2015',\n      outDir: OUTPUT_DIR,\n      terserOptions: {\n        compress: {\n          keep_infinity: true,\n          // 生产环境去除 `console` `debugger` 值为布尔值\n          drop_console: VITE_DROP_CONSOLE, \n          drop_debugger: VITE_DROP_DEBUGGER \n        },\n      },\n      // Turning off brotliSize display can slightly reduce packaging time\n      brotliSize: false,\n      chunkSizeWarningLimit: 1500,\n    },\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/7065135389798825998#heading-5",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文地址"),a("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=t.exports}}]);